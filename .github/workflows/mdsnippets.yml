name: Formatting and Snippets
on:
  push:
jobs:
  format_and_snippets:
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: packages/approval_tests
    steps:

    - name: üìö Git Checkout
      uses: actions/checkout@v4
      with:
        path: packages/approval_tests

    - name: ‚ôªÔ∏è Run MarkdownSnippets
      run: |
        dotnet tool install --global MarkdownSnippets.Tool
        mdsnippets ${GITHUB_WORKSPACE}
      shell: bash
      working-directory: packages/approval_tests

    - name: ‚¨ÜÔ∏è Git Commit and Push
      run: |
        git config --global user.name "github actions"
        git config --global user.email "actions@github.com"
        git add .
        git commit -m ". d updated markdown snippets"
        git push origin main
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      working-directory: packages/approval_tests
